<html>
<head>
<script src="pythonscript.js"></script>
<script src="libs/three/three.min.js"></script>
<script src="bindings/three.py"></script>
</head>

<body>
<script type="text/python" closure="false">
from three import *

#con = JS("document.createElement( 'div' )")
#JS('document.body.appendChild(con)')

width = 640; height = 320
scn = Scene()
cam = PerspectiveCamera( 45, width, height, 0.01, 10000)
cam.position.z = 100
cam.position.x = 5

#scn.add( cam )

#ren = WebGLRenderer()
ren = CanvasRenderer()
ren.setSize( width, height )
#ren.setClearColor( red=1.0, green=0.0, blue=0.5 )

element = ren.getDomElement()
#JS('con.appendChild( element )')
JS('document.body.appendChild(element)')

geo = CubeGeometry( 10, 10, 10 )
mat = MeshBasicMaterial()
mesh = Mesh( geo, mat )
scn.add( mesh )

def animate():
	JS('requestAnimationFrame( animate )')
	scn.updateMatrixWorld()
	ren.render( scn, cam )
	#print('rendering')

</script>
<button onclick="animate()">click me</button>
</body>
</html>